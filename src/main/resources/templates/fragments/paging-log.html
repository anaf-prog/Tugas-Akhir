<!-- Pagination -->
<div th:if="${logTotalPages > 1}">
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">

            <!-- First Page -->
            <li class="page-item" th:classappend="${logCurrentPage == 0} ? 'disabled'">
                <a class="page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage}, 
                                           deviceSize=${param.deviceSize != null ? param.deviceSize : 5}, 
                                           logPage=0, 
                                           logSize=${param.logSize != null ? param.logSize : 5})}">
                    <span>&laquo;&laquo;</span>
                </a>
            </li>

            <!-- Previous Page -->
            <li class="page-item" th:classappend="${logCurrentPage == 0} ? 'disabled'">
                <a class="page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage}, 
                                           deviceSize=${param.deviceSize != null ? param.deviceSize : 5}, 
                                           logPage=${logCurrentPage - 1}, 
                                           logSize=${param.logSize != null ? param.logSize : 5})}">
                    <span>&laquo;</span>
                </a>
            </li>

            <!-- Page Numbers -->
            <li th:each="i : ${#numbers.sequence(
                    (logCurrentPage < 5) ? 0 : 
                    (logCurrentPage > logTotalPages - 5) ? (logTotalPages > 9 ? logTotalPages - 9 : 0) : 
                    logCurrentPage - 4, 
                    
                    (logCurrentPage < 5) ? 
                        ((logTotalPages - 1) < 8 ? (logTotalPages - 1) : 8) : 
                    (logCurrentPage > logTotalPages - 5) ? 
                        (logTotalPages - 1) : 
                        (logCurrentPage + 4)
                )}"
                th:if="${i >= 0 and i < logTotalPages}"
                class="page-item" 
                th:classappend="${i == logCurrentPage} ? 'active'">
                <a class="page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage}, 
                                           deviceSize=${param.deviceSize != null ? param.deviceSize : 5}, 
                                           logPage=${i}, 
                                           logSize=${param.logSize != null ? param.logSize : 5})}"
                   th:text="${i + 1}">1</a>
            </li>

            <!-- Next Page -->
            <li class="page-item" th:classappend="${logCurrentPage == logTotalPages - 1} ? 'disabled'">
                <a class="page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage}, 
                                           deviceSize=${param.deviceSize != null ? param.deviceSize : 5}, 
                                           logPage=${logCurrentPage + 1}, 
                                           logSize=${param.logSize != null ? param.logSize : 5})}">
                    <span>&raquo;</span>
                </a>
            </li>

            <!-- Last Page -->
            <li class="page-item" th:classappend="${logCurrentPage == logTotalPages - 1} ? 'disabled'">
                <a class="page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage}, 
                                           deviceSize=${param.deviceSize != null ? param.deviceSize : 5}, 
                                           logPage=${logTotalPages - 1}, 
                                           logSize=${param.logSize != null ? param.logSize : 5})}">
                    <span>&raquo;&raquo;</span>
                </a>
            </li>

        </ul>
    </nav>
</div>
