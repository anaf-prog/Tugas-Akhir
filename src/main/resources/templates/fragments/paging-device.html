<!-- Pagination -->
<div th:if="${deviceTotalPages > 1}">
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">

            <!-- First Page -->
            <li class="page-item" th:classappend="${deviceCurrentPage == 0} ? 'disabled'">
                <a class="page-link ajax-page-link"
                   th:href="@{'/dashboard'(devicePage=0, 
                                           deviceSize=${deviceSize}, 
                                           logPage=${logCurrentPage}, 
                                           logSize=${param.logSize != null ? param.logSize : 5},
                                           search=${searchParam}, 
                                           status=${statusParam}, 
                                           type=${typeParam})}">
                    <span>&laquo;</span>
                </a>
            </li>

            <!-- Previous Page -->
            <li class="page-item" th:classappend="${deviceCurrentPage == 0} ? 'disabled'">
                <a class="page-link ajax-page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage - 1}, 
                                           deviceSize=${deviceSize}, 
                                           logPage=${logCurrentPage}, 
                                           logSize=${param.logSize != null ? param.logSize : 5},
                                           search=${searchParam}, 
                                           status=${statusParam}, 
                                           type=${typeParam})}">
                    <span>&lsaquo;</span>
                </a>
            </li>

            <!-- Page Numbers -->
            <li th:each="i : ${#numbers.sequence(
                    (deviceCurrentPage < 5) ? 0 : 
                    (deviceCurrentPage > deviceTotalPages - 5) ? (deviceTotalPages > 9 ? deviceTotalPages - 9 : 0) : 
                    deviceCurrentPage - 4, 
                    
                    (deviceCurrentPage < 5) ? 
                        ((deviceTotalPages - 1) < 8 ? (deviceTotalPages - 1) : 8) : 
                    (deviceCurrentPage > deviceTotalPages - 5) ? 
                        (deviceTotalPages - 1) : 
                        (deviceCurrentPage + 4)
                )}"
                th:if="${i >= 0 and i < deviceTotalPages}"
                class="page-item" 
                th:classappend="${i == deviceCurrentPage} ? 'active'">
                <a class="page-link ajax-page-link"
                   th:href="@{'/dashboard'(devicePage=${i}, 
                                           deviceSize=${deviceSize}, 
                                           logPage=${logCurrentPage}, 
                                           logSize=${param.logSize != null ? param.logSize : 5},
                                           search=${searchParam}, 
                                           status=${statusParam}, 
                                           type=${typeParam})}"
                   th:text="${i + 1}">1</a>
            </li>

            <!-- Next Page -->
            <li class="page-item" th:classappend="${deviceCurrentPage == deviceTotalPages - 1} ? 'disabled'">
                <a class="page-link ajax-page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceCurrentPage + 1}, 
                                           deviceSize=${deviceSize}, 
                                           logPage=${logCurrentPage}, 
                                           logSize=${param.logSize != null ? param.logSize : 5},
                                           search=${searchParam}, 
                                           status=${statusParam}, 
                                           type=${typeParam})}">
                    <span>&rsaquo;</span>
                </a>
            </li>

            <!-- Last Page -->
            <li class="page-item" th:classappend="${deviceCurrentPage == deviceTotalPages - 1} ? 'disabled'">
                <a class="page-link ajax-page-link"
                   th:href="@{'/dashboard'(devicePage=${deviceTotalPages - 1}, 
                                           deviceSize=${deviceSize}, 
                                           logPage=${logCurrentPage}, 
                                           logSize=${param.logSize != null ? param.logSize : 5},
                                           search=${searchParam}, 
                                           status=${statusParam}, 
                                           type=${typeParam})}">
                    <span>&raquo;</span>
                </a>
            </li>

        </ul>
    </nav>
</div>
